# Default values for pm-tp-infrastructure
# These can be overridden by deployment-specific values files

# MinIO - Object Storage
minio:
  enabled: true
  replicas: 4
  drivesPerNode: 1
  mode: distributed
  persistence:
    size: 50Gi

# All other components disabled by default
# Enable them in deployment-specific values files

tidb:
  enabled: false

# TiDB Cluster configuration (used when tidb.enabled = true)
tidbCluster:
  pd:
    replicas: 3
    storage: "10Gi"
    resources:
      requests:
        cpu: 200m
        memory: 512Mi
      limits:
        cpu: 1000m
        memory: 2Gi
  tikv:
    replicas: 3
    storage: "50Gi"
    resources:
      requests:
        cpu: 500m
        memory: 2Gi
      limits:
        cpu: 2000m
        memory: 8Gi
  tidb:
    replicas: 2
    resources:
      requests:
        cpu: 500m
        memory: 1Gi
      limits:
        cpu: 2000m
        memory: 4Gi

valkey:
  enabled: false

nats:
  enabled: false

opensearch:
  enabled: false

keycloak:
  enabled: false

prometheus:
  enabled: false

grafana:
  enabled: false
