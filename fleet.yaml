# Fleet Bundle Definition for PM-TP Infrastructure

defaultNamespace: pm-tp-infra

# Depend on CRDs bundle to ensure they're installed first
dependsOn:
  - name: pm-tp-crds

helm:
  chart: ./charts/pm-tp-infrastructure
  releaseName: pm-tp-infra
  timeoutSeconds: 1800
  
targets:
  - name: dev
    clusterSelector:
      matchLabels:
        env: dev
    defaultNamespace: pm-tp-dev
    helm:
      valuesFiles:
        - ./deployments/dev/values.yaml

  - name: staging
    clusterSelector:
      matchLabels:
        env: staging
    defaultNamespace: pm-tp-staging
    helm:
      valuesFiles:
        - ./deployments/staging/values.yaml

  - name: prod
    clusterSelector:
      matchLabels:
        env: prod
    defaultNamespace: pm-tp-prod
    helm:
      valuesFiles:
        - ./deployments/prod/values.yaml
